<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Dokumentasi Aktivitas Siswa - SubotApp</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet" />
  <style>
    .sidebar-mobile-scroll {
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }
    .sidebar-mobile-scroll::-webkit-scrollbar {
      display: none;
    }
    .sidebar-mobile-item {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      padding: 0.75rem 1rem;
      gap: 0.5rem;
      width: auto;
      min-width: 80px;
    }
    .sidebar-mobile-item .icon-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 9999px;
    }
    .sidebar-mobile-item.active .icon-wrapper {
      background-color: #0B4C66;
      color: white;
    }
    .sidebar-mobile-item.active .text-label {
      color: #0B4C66;
      font-weight: 600;
    }
    .sidebar-mobile-item:not(.active) .icon-wrapper {
      background-color: transparent;
      color: #6B7280;
    }
    .sidebar-mobile-item:not(.active) .text-label {
      color: #6B7280;
      font-weight: 400;
    }

    .icon-box-size {
      width: 2.5rem;
      height: 2.5rem;
    }

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.open {
      opacity: 1;
      visibility: visible;
    }
    .modal-content-media {
      background-color: transparent;
      padding: 0;
      border-radius: 0;
      box-shadow: none;
      width: 90%;
      max-width: 900px;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      position: relative;
    }
    .modal-overlay.open .modal-content-media {
      transform: scale(1);
    }
    .modal-content-media img,
    .modal-content-media video {
      max-width: 100%;
      max-height: 80vh;
      display: block;
      margin: auto;
      border-radius: 0.5rem;
    }
    .modal-close-button {
      position: absolute;
      top: -1.5rem;
      right: -1.5rem;
      background-color: rgba(255, 255, 255, 0.3);
      color: white;
      border-radius: 9999px;
      padding: 0.5rem 0.75rem;
      font-size: 1.25rem;
      line-height: 1;
      cursor: pointer;
      border: none;
      z-index: 1001;
    }

    .blur-background {
      filter: blur(5px);
      transition: filter 0.3s ease;
      pointer-events: none;
    }
  </style>
</head>
<body class="bg-[#F7F9FC] min-h-screen text-gray-700">
  <div id="mainLayout" class="flex flex-col md:flex-row min-h-screen">
    <aside class="w-full md:w-64 bg-white border-b md:border-r border-gray-200 flex-shrink-0 hidden md:flex flex-col md:sticky md:top-0 md:h-screen">
      <div>
        <div class="px-6 py-5 border-b border-gray-200">
                <img src="../asset/logo fix sukarobot.jpg" alt="Sukarobot Academy Logo" class="h-10 w-auto object-contain mx-auto">
            </div>
        <a href="pengaturan-profil.html" class="px-6 py-5 flex items-center space-x-4 border-b border-gray-200">
          <img alt="Profile picture" class="w-10 h-10 rounded-full object-cover" height="40" src="../asset/real.jpg" width="40"/>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-semibold text-gray-900 truncate">
              Aripin Sihabudin
            </p>
            <p class="text-xs text-gray-400 truncate">
              Siswa
            </p>
          </div>
          <button aria-label="Logout" class="text-gray-500 hover:text-gray-700 focus:outline-none">
            </i>
          </button>
        </a>
        <nav class="flex flex-col mt-6 space-y-1 px-2 flex-grow overflow-y-auto">
          <a class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 text-sm hover:bg-gray-100 hover:text-gray-900" href="index.html">
            <i class="fas fa-home text-base">
            </i>
            Dashboard
          </a>
          <a class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 text-sm hover:bg-gray-100 hover:text-gray-900" href="kehadiran.html">
            <i class="fas fa-calendar-check text-base">
            </i>
            Kehadiran
          </a>
          <a class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 text-sm hover:bg-gray-100 hover:text-gray-900" href="laporan.html">
            <i class="fas fa-file-alt text-base">
            </i>
            Laporan
          </a>
          <a class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 text-sm hover:bg-gray-100 hover:text-gray-900" href="pembayaran.html">
            <i class="fas fa-credit-card text-base">
            </i>
            Pembayaran
          </a>
        </nav>
      </div>
      <button aria-label="Logout" class="w-full flex justify-center py-3 border-t border-gray-200 text-gray-500 hover:text-gray-700">
        </i>
      </button>
    </aside>

    <main class="flex-1 p-6 max-w-7xl mx-auto pb-20 md:pb-6">
      <div class="mb-6">
        <nav class="text-xs text-gray-500 font-normal mb-1 select-none">
          <a class="hover:underline text-[#0B4C66]" href="index.html">
            Dashboard
          </a>
          <span class="mx-1">
            &gt;
          </span>
          <span>
            Dokumentasi Aktivitas Siswa
          </span>
        </nav>
        <h1 class="text-black font-extrabold text-xl leading-6">
          Dokumentasi Aktivitas Siswa
        </h1>
      </div>

      <section class="bg-white rounded-lg p-6 shadow-sm border border-transparent hover:border-gray-200">
        <h2 class="font-extrabold text-[#0B4C66] text-lg mb-4 pb-2 border-b border-gray-200">Galeri Aktivitas</h2>
        <div id="mediaGallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
          </div>
      </section>
    </main>
  </div>

  <aside class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 z-50 p-2 flex md:hidden">
    <nav class="flex justify-around items-center w-full sidebar-mobile-scroll">
      <a class="sidebar-mobile-item" href="index.html">
        <div class="icon-wrapper">
          <i class="fas fa-home text-base"></i>
        </div>
        <span class="text-label">Dashboard</span>
      </a>
      <a class="sidebar-mobile-item" href="kehadiran.html">
        <div class="icon-wrapper">
          <i class="fas fa-calendar-check text-base"></i>
        </div>
        <span class="text-label">Kehadiran</span>
      </a>
      <a class="sidebar-mobile-item" href="laporan.html">
        <div class="icon-wrapper">
          <i class="fas fa-file-alt text-base"></i>
        </div>
        <span class="text-label">Laporan</span>
      </a>
      <a class="sidebar-mobile-item" href="pembayaran.html">
        <div class="icon-wrapper">
          <i class="fas fa-credit-card text-base"></i>
        </div>
        <span class="text-label">Pembayaran</span>
      </a>
      <a class="sidebar-mobile-item" href="pengaturan-profil.html">
        <div class="icon-wrapper">
          <i class="fas fa-user-circle text-base"></i>
        </div>
        <span class="text-label">Profil</span>
      </a>
    </nav>
  </aside>

  <div id="mediaLightbox" class="modal-overlay">
    <div class="modal-content-media">
      <button class="modal-close-button" onclick="closeLightbox()"><i class="fas fa-times"></i></button>
      <div id="lightboxContent" class="flex items-center justify-center h-full">
        </div>
    </div>
  </div>

  <script>
    const mainLayout = document.getElementById('mainLayout');
    const mediaLightbox = document.getElementById('mediaLightbox');
    const lightboxContent = document.getElementById('lightboxContent');

    const mediaItems = [
      { type: 'image', src: '../asset/dok1.JPG', title: 'Siswa Merakit Robot', date: 'Maret 2025' },
      { type: 'image', src: '../asset/dok2.JPG', title: 'Tim Lomba Coding', date: 'Februari 2025' },
      { type: 'video', src: '../asset/video_presentasi_proyek.mp4', title: 'Presentasi Proyek Akhir', date: 'Januari 2025' },
      { type: 'image', src: '../asset/dok1.JPG', title: 'Workshop Desain Grafis', date: 'Desember 2024' },
      { type: 'image', src: '../asset/dok2.JPG', title: 'Diskusi Kelompok Belajar', date: 'November 2024' },
      { type: 'image', src: '../asset/dok1.JPG', title: 'Kunjungan Studi Robotik', date: 'Oktober 2024' },
      { type: 'image', src: '../asset/dok1.JPG', title: 'Siswa Merakit Robot', date: 'Maret 2025' },
      { type: 'image', src: '../asset/dok2.JPG', title: 'Tim Lomba Coding', date: 'Februari 2025' },
      { type: 'video', src: '../asset/video_presentasi_proyek.mp4', title: 'Presentasi Proyek Akhir', date: 'Januari 2025' },
      { type: 'image', src: '../asset/dok1.JPG', title: 'Workshop Desain Grafis', date: 'Desember 2024' },
      { type: 'image', src: '../asset/dok2.JPG', title: 'Diskusi Kelompok Belajar', date: 'November 2024' },
      { type: 'image', src: '../asset/dok1.JPG', title: 'Kunjungan Studi Robotik', date: 'Oktober 2024' },
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const mediaGallery = document.getElementById('mediaGallery');

      mediaItems.forEach(item => {
        const mediaCard = document.createElement('div');
        mediaCard.className = 'relative rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 cursor-pointer';
        mediaCard.onclick = () => openLightbox(item.src, item.type);

        let mediaElement;
        if (item.type === 'image') {
          mediaElement = `<img src="${item.src}" alt="${item.title}" class="w-full h-40 object-cover">`;
        } else if (item.type === 'video') {
          // Menambahkan atribut poster untuk thumbnail video sebelum dimuat
          const posterSrc = item.poster || `https://via.placeholder.com/400x300/F0F4F8/6B7280?text=Video+Loading`; 
          mediaElement = `
            <video src="${item.src}" poster="${posterSrc}" preload="metadata" class="w-full h-40 object-cover"></video>
            <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 text-white text-4xl">
              <i class="fas fa-play-circle"></i>
            </div>
          `;
        }

        mediaCard.innerHTML = `
          ${mediaElement}
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3">
            <p class="text-white text-sm font-semibold">${item.title}</p>
            <p class="text-gray-300 text-xs">${item.date}</p>
          </div>
        `;
        mediaGallery.appendChild(mediaCard);
      });
    });

    function openLightbox(src, type) {
      lightboxContent.innerHTML = '';
      if (type === 'image') {
        const img = document.createElement('img');
        img.src = src;
        lightboxContent.appendChild(img);
      } else if (type === 'video') {
        const video = document.createElement('video');
        video.src = src;
        video.controls = true;
        video.autoplay = true;
        video.preload = 'auto';
        lightboxContent.appendChild(video);
      }
      mediaLightbox.classList.add('open');
      mainLayout.classList.add('blur-background');
    }

    function closeLightbox() {
      mediaLightbox.classList.remove('open');
      mainLayout.classList.remove('blur-background');
      const videoElement = lightboxContent.querySelector('video');
      if (videoElement) {
        videoElement.pause();
        videoElement.currentTime = 0;
      }
    }

    mediaLightbox.addEventListener('click', (e) => {
      if (e.target === mediaLightbox) {
        closeLightbox();
      }
    });
  </script>
</body>
</html>